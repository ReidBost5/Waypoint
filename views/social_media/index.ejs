<div class="content-container">
    <% let pageTitle="Social Media" ; %>
        <%- include('../partials/header.ejs', { pageTitle: pageTitle }) %>
            <link rel="stylesheet" type="text/css" href="/css/social_media/style.css">

            <div class="container">
                <div class="left-container">
                    <div class="bio-container">
                        <img class="profile-picture" src="/images/social-media/default-profile.jpg" alt="">
                        <h4><%=user.firstName%> <%=user.lastName%></h4>
                        <p><a href = "/user/profile">View Your Created Post</a></p>
                        <!-- <p>Software Developer at Unknown</p> -->
                    </div>
                    <!-- <div class="likes-container">
                        <h4>Profile Likes</h2>
                            <p>999</p>
                    </div>
                    <div class="recent-post">
                        <h4>Unknown Workplace Fest</h4>
                    </div> -->
                </div>
                <div class="middle-container">
                    <button class="new-post"><a class="new-form-link" href="/socialmedia/new">New Post</a></button>
                    <!--FOR EACH POST-->
                    <% posts.forEach(post=> { %>
                    <div class="post-container">
                        <div class="top-bar">
                            <img src="/images/social-media/default-profile.jpg" alt="" class="profile-picture">
                            <div class="post-info">
                                <h4><%=post.author%></h4>
                                <!-- <p><%=post.createdAt%></p> -->
                                <p>Posted on:<%= new Date(post.createdAt).toLocaleDateString('en-US', { timeZone: 'America/New_York' }) + ' ' + new Date(post.createdAt).toLocaleTimeString('en-US', { timeZone: 'America/New_York', hour12: true, hour: 'numeric', minute: 'numeric' }) %></p>
                            </div>
                        </div>
                        <div class="post-main">
                            <div class="post-title">
                                <h4> <a href="/socialmedia/<%=post.id%>/post_detailed"><%=post.title%></a></h4>
                            </div>
                            <div class="post-content">
                                <p><%=post.content%></p>
                            </div>
                            <div class="post-stats">
                                <div class="left">
                                    <p>Likes: <img src="/images/social-media/heart.png" alt="" class="heart"> <%=post.likes.length%></p>
                                    
                                </div>
                            </div>
                        </div>
                    </div>

                    <% }); %>
                    <!--END FOR EACH POST-->
                </div>

                <!--FOR EACH POST-->
                <!-- <div class="right-container">
                    <h3>Top Post</h3>
                    <% for (let i = 0; i < Math.min(3, posts.length); i++) { %>
                    <div class="post">
                        <div class="top-bar">
                            <img src="/images/social-media/default-profile.jpg" alt="">
                            <p><a href="/"><%= posts[i].title %></a></p>
                        </div>
                        <div class="post-stats">
                            <p><img src="/images/social-media/heart.png" alt=""> 999</p>
                            <p><img src="/images/social-media/comment.png" alt=""> 45</p>
                        </div>
                    </div>
                    <% } %>
                </div> -->
            </div>


            <%- include('../partials/footer.ejs')%>
</div>